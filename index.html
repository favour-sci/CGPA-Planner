<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Grade Planner Pro</title>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #8B5A2B;
            --secondary: #dcb368;
            --dark: #2c3e50;
            --light: #f8f9fa;
            --white: #ffffff;
            --shadow: 0 4px 6px rgba(0,0,0,0.07);
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--light);
            margin: 0;
            padding: 0;
            color: #333;
        }

        /* HEADER & MENU */
        header {
            background-color: var(--dark);
            color: var(--white);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 4px solid var(--primary);
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .brand h1 { margin: 0; font-size: 1.4rem; color: var(--secondary); text-transform: uppercase; letter-spacing: 1px; }
        .brand p { margin: 2px 0 0; font-size: 0.8rem; color: #aaa; }

        .header-controls { display: flex; gap: 20px; align-items: center; }

        .scale-selector {
            display: flex; align-items: center; gap: 10px;
            background: rgba(255,255,255,0.1); padding: 5px 15px; border-radius: 20px;
        }
        .scale-selector select {
            background: transparent; border: none; color: var(--white);
            font-weight: bold; cursor: pointer; outline: none;
        }
        .scale-selector select option { color: #333; }

        .menu-btn { background: none; border: none; color: var(--white); font-size: 1.5rem; cursor: pointer; transition: var(--transition); }
        .menu-btn:hover { color: var(--secondary); transform: rotate(90deg); }

        /* SIDEBAR */
        .sidebar {
            height: 100%; width: 0; position: fixed; z-index: 200; top: 0; right: 0;
            background-color: var(--dark); overflow-x: hidden; transition: 0.4s;
            padding-top: 60px; box-shadow: -2px 0 5px rgba(0,0,0,0.5);
        }
        .sidebar a { padding: 10px 30px; text-decoration: none; font-size: 1.1rem; color: #bdc3c7; display: block; transition: 0.3s; }
        .sidebar a:hover { color: var(--secondary); padding-left: 40px; }
        .sidebar .closebtn { position: absolute; top: 10px; right: 25px; font-size: 36px; margin-left: 50px; }
        .sidebar-content { padding: 0 30px; color: #bdc3c7; font-size: 0.9rem; line-height: 1.6; }
        .sidebar-content p { margin-bottom: 15px; }

        /* LAYOUT */
        .container { max-width: 1400px; margin: 30px auto; padding: 0 20px; }
        .section-title {
            font-size: 1.2rem; font-weight: 700; color: var(--primary);
            margin-bottom: 15px; padding-bottom: 5px; border-bottom: 2px solid #e0e0e0;
            display: flex; justify-content: space-between; align-items: center;
        }

        .dashboard-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 40px; }
        .card {
            background: var(--white); border-radius: 10px; padding: 20px;
            box-shadow: var(--shadow); transition: var(--transition); border: 1px solid #eee;
        }
        .card:hover { transform: translateY(-5px); box-shadow: 0 8px 15px rgba(0,0,0,0.1); }

        .card-gauge-1 { grid-column: span 1; text-align: center; }
        .card-gauge-2 { grid-column: span 1; text-align: center; }
        .card-chart-1 { grid-column: span 1; }
        .card-chart-2 { grid-column: span 1; }

        .gauge-wrapper { position: relative; width: 140px; height: 140px; margin: 0 auto; }
        .gauge-circle {
            width: 100%; height: 100%; border-radius: 50%;
            border: 10px solid #eee; border-top: 10px solid var(--primary);
            border-right: 10px solid var(--secondary);
            display: flex; align-items: center; justify-content: center;
        }
        .gauge-text { text-align: center; }
        .gauge-value { font-size: 2rem; font-weight: 800; color: var(--primary); display: block; line-height: 1;}
        .gauge-label { font-size: 0.8rem; color: #7f8c8d; text-transform: uppercase; letter-spacing: 1px; }

        /* TEMPLATE SECTION */
        .template-grid { display: grid; grid-template-columns: 3fr 1fr; gap: 25px; }
        .table-container { background: var(--white); border-radius: 10px; padding: 20px; box-shadow: var(--shadow); overflow: hidden; }

        table { width: 100%; border-collapse: collapse; font-size: 0.95rem; }
        th { background-color: var(--primary); color: white; padding: 12px; font-weight: 600; text-align: left; }
        td { padding: 10px; border-bottom: 1px solid #eee; vertical-align: middle; }
        tr:hover { background-color: #f9f2e8; }

        input {
            width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;
            text-align: center; transition: 0.2s; box-sizing: border-box;
        }
        input:focus { border-color: var(--primary); outline: none; background: #fffdf9; }

        .bar-container { width: 100%; background: #eee; height: 8px; border-radius: 4px; overflow: hidden; margin-top: 5px; }
        .bar-fill { height: 100%; background: linear-gradient(90deg, var(--secondary), var(--primary)); width: 0%; transition: width 0.5s ease; }

        .summary-panel { background: var(--white); border-radius: 10px; padding: 20px; box-shadow: var(--shadow); height: fit-content; }
        .key-table th { background-color: var(--primary); color: var(--white); font-size: 0.8rem; padding: 8px; }
        .key-table td { font-size: 0.8rem; padding: 5px; text-align: center; }

        .stat-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px dashed #eee; font-size: 0.9rem; }
        .stat-row.highlight {
            background: #fdfdfd; border-top: 2px solid var(--primary); border-bottom: 2px solid var(--primary);
            padding: 15px 10px; margin: 15px -10px; font-weight: bold; color: var(--primary);
        }

        .btn-action {
            background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: 600;
            display: inline-flex; align-items: center; gap: 5px; transition: var(--transition);
        }
        .btn-action:hover { background: #6e4620; transform: translateY(-2px); }
        .btn-reset { background: #95a5a6; font-size: 0.8rem; padding: 5px 10px;}
        .btn-reset:hover { background: #7f8c8d; }

        /* Delete Button Style */
        .btn-delete {
            background: none; border: none; color: #e74c3c; cursor: pointer; font-size: 1.1rem;
            transition: transform 0.2s; padding: 5px;
        }
        .btn-delete:hover { transform: scale(1.2); color: #c0392b; }

        @media (max-width: 1000px) {
            .dashboard-grid { grid-template-columns: 1fr 1fr; }
            .template-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div id="mySidebar" class="sidebar">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <div class="sidebar-content">
        <h2 style="color: var(--secondary);">About Project</h2>
        <p>The <strong>Student Grade Planner Pro</strong> is an interactive dashboard designed to help students visualize their academic performance. It allows users to input test and exam scores to forecast their GPA/CGPA dynamically. Features include automatic data visualization, grade scale toggling (4.0/5.0), and data integration.</p>
        <p> <a href="https://github.com/favour-sci/CGPA-Planner/blob/main/README.md" target="_blank" style="color:inherit;">Read more...</a></p>
        <hr style="border-color: #444; margin: 20px 0;">
        <h2 style="color: var(--secondary);">About Author</h2>
        <p><strong>Favour James</strong> is a Statistics student at the University of Ibadan, and a passionate Data Analyst and Research Consultant dedicated to helping individuals and organizations make informed decisions through data-driven insights. <p>
        <p>Her interests span data analysis, problem-solving, and educational technology, where she combines analytical precision with creativity to create practical, student-focused, and community-impactful solutions. Favour’s work reflects her belief that understanding data is not just about numbers, it’s about uncovering stories, improving systems, and creating value in communities. She continues to lead and contribute to innovative projects that promote digital learning, analytical thinking, and applied research.</p>
        <p><i class="fas fa-globe"></i> <a href="https://favour-sci.github.io/Portfolio-Website/" target="_blank" style="color:inherit;">Portfolio Website</a></p>
        <p><i class="fab fa-linkedin"></i> <a href="https://www.linkedin.com/in/james-favour/" target="_blank" style="color:inherit;">LinkedIn Profile</a></p>
        <p><i class="fas fa-envelope"></i> favourjames201@gmail.com</p>
    </div>
</div>

<header>
    <div class="brand">
        <p>Stay Ahead – Predict, Plan, and Improve Your Grades</p>
        <h1>STUDENT GRADE PLANNER AND CGPA FORECAST</h1>
    </div>
    
    <div class="header-controls">
        <div class="scale-selector" title="Switch Grading System">
            <i class="fas fa-balance-scale"></i>
            <select id="scaleSelect" onchange="changeScale()">
                <option value="5">5.0 CGPA Scale</option>
                <option value="4">4.0 CGPA Scale</option>
            </select>
        </div>
        <button class="menu-btn" onclick="openNav()"><i class="fas fa-bars"></i></button>
    </div>
</header>

<div class="container">

    <div class="section-title">
        <span><i class="fas fa-chart-pie"></i> Performance Dashboard</span>
        <button class="btn-action btn-reset" onclick="resetDefaults()"><i class="fas fa-sync-alt"></i> Reset</button>
    </div>

    <div class="dashboard-grid">
        <div class="card card-gauge-1">
            <div class="gauge-wrapper">
                <div class="gauge-circle">
                    <div class="gauge-text">
                        <span class="gauge-value" id="dispGPA">0.00</span>
                        <span class="gauge-label">Current GPA</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card card-gauge-2">
            <div class="gauge-wrapper">
                <div class="gauge-circle" >
                    <div class="gauge-text">
                        <span class="gauge-value" id="dispCGPA">0.00</span>
                        <span class="gauge-label">Overall CGPA</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="card card-chart-1">
            <h4 style="margin-top:0; color:#666;">Top Performing Courses (A Grade)</h4>
            <div style="height: 150px;">
                <canvas id="chartBest"></canvas>
            </div>
        </div>

        <div class="card card-chart-2">
            <h4 style="margin-top:0; color:#666;">Grade Distribution</h4>
            <div style="height: 150px;">
                <canvas id="chartDonut"></canvas>
            </div>
        </div>
    </div>

    <div class="section-title">
        <span><i class="fas fa-edit"></i> Paint Your Scenario</span>
    </div>

    <div class="template-grid">
        <div class="table-container">
            <table id="gradeTable">
                <thead>
                    <tr>
                        <th style="width: 5%;">SN</th>
                        <th style="width: 25%;">Course Code</th>
                        <th style="width: 10%;">Unit</th>
                        <th style="width: 15%;">Test Score</th>
                        <th style="width: 15%;">Exam Score</th> 
                        <th style="width: 15%;">Total Score</th>
                        <th style="width: 5%;">Grade</th>
                        <th style="width: 10%;">WGP</th>
                        <th style="width: 5%;">Act</th>
                    </tr>
                </thead>
                <tbody id="tableBody"></tbody>
            </table>
            <div style="margin-top: 15px;">
                <button class="btn-action" onclick="addRow()"><i class="fas fa-plus"></i> Add Course</button>
            </div>
        </div>

        <div class="summary-panel">
            <div style="margin-top:0; color:var(--primary); text-align:center; font-weight:bold; font-size:1.1rem; margin-bottom: 15px;">
                <span><i class="fas fa-table"></i> Grading Key</span>
            </div>
            <table class="key-table" id="keyTable">
                <thead><tr><th>Range</th><th>Grade</th><th>Point</th></tr></thead>
                <tbody id="keyBody"></tbody>
            </table>

            <hr style="border: 0; border-top: 1px solid #eee; margin: 20px 0;">

            <h4 style="margin:0; color:var(--dark);">Summary</h4>
            <div class="stat-row">
                <span>Semester Units</span>
                <strong id="sumUnits">0</strong>
            </div>
            <div class="stat-row">
                <span>Weighted Points</span>
                <strong id="sumWGP">0</strong>
            </div>

            <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-top: 15px;">
                <div style="font-size: 0.8rem; font-weight: bold; margin-bottom: 5px;">Historical Data</div>
                <div class="stat-row" style="border:none; padding: 5px 0;">
                    <span>Prev CGPA:</span>
                    <input type="number" id="prevCGPA" value="" placeholder="Optional" step="0.01" onchange="calculateAll()" style="width: 70px;">
                </div>
                <div class="stat-row" style="border:none; padding: 5px 0;">
                    <span>Prev Units:</span>
                    <input type="number" id="prevUnits" value="" placeholder="Optional" onchange="calculateAll()" style="width: 70px;">
                </div>
            </div>

            <div class="stat-row highlight">
                <span>PROJECTED CGPA</span>
                <span style="font-size: 1.2rem;" id="sumOverallCGPA">0.00</span>
            </div>
            <div style="text-align: center; color: var(--secondary); font-weight: bold; font-size: 0.9rem;" id="classHonours">
                Calculating...
            </div>
        </div>
    </div>
</div>

<script>
    /* --- LOGIC SCRIPT: NO LIMITS ON SCORES --- */

    // Data State
    let currentScale = 5; 
    let chartBest = null;
    let chartDonut = null;

    // Default data for first-time users
    const defaultData = [
        { code: "MAT 101", unit: 3, test: 28, exam: 45 },
        { code: "PHY 102", unit: 4, test: 30, exam: 50 },
        { code: "CHM 103", unit: 3, test: 20, exam: 35 },
        { code: "GST 101", unit: 2, test: 35, exam: 40 },
        { code: "CSC 201", unit: 3, test: 25, exam: 55 }
    ];

    let initialData = [];

    // --- SAVE & LOAD SYSTEM ---
    function loadData() {
        const savedData = localStorage.getItem('gradeData');
        const savedScale = localStorage.getItem('gradeScale');
        const savedPrevCGPA = localStorage.getItem('prevCGPA');
        const savedPrevUnits = localStorage.getItem('prevUnits');

        if (savedData) {
            initialData = JSON.parse(savedData);
        } else {
            initialData = JSON.parse(JSON.stringify(defaultData)); 
        }

        if (savedScale) {
            currentScale = parseInt(savedScale);
            document.getElementById('scaleSelect').value = currentScale;
        }

        if (savedPrevCGPA) document.getElementById('prevCGPA').value = savedPrevCGPA;
        if (savedPrevUnits) document.getElementById('prevUnits').value = savedPrevUnits;
    }

    function saveData() {
        localStorage.setItem('gradeData', JSON.stringify(initialData));
        localStorage.setItem('gradeScale', currentScale);
        localStorage.setItem('prevCGPA', document.getElementById('prevCGPA').value);
        localStorage.setItem('prevUnits', document.getElementById('prevUnits').value);
    }

    // --- GRADING LOGIC ---
    function getGrade(score) {
        if (currentScale === 5) {
            if (score >= 70) return { g: 'A', p: 5 };
            if (score >= 60) return { g: 'B', p: 4 };
            if (score >= 50) return { g: 'C', p: 3 };
            if (score >= 45) return { g: 'D', p: 2 };
            if (score >= 40) return { g: 'E', p: 1 };
            return { g: 'F', p: 0 };
        } else {
            if (score >= 70) return { g: 'A', p: 4.00 };
            if (score >= 60) return { g: 'B', p: 3.00 };
            if (score >= 50) return { g: 'C', p: 2.00 };
            if (score >= 45) return { g: 'D', p: 1.00 };
            return { g: 'F', p: 0.00 };
        }
    }

    function renderKey() {
        const tbody = document.getElementById('keyBody');
        tbody.innerHTML = '';
        const ranges = currentScale === 5 
            ? [ ['70-100','A',5], ['60-69','B',4], ['50-59','C',3], ['45-49','D',2], ['40-44','E',1], ['0-39','F',0] ]
            : [ ['70-100','A',4], ['60-69','B',3], ['50-59','C',2], ['45-49','D',1], ['0-44','F',0] ];

        ranges.forEach(r => {
            tbody.innerHTML += `<tr><td>${r[0]}</td><td><b>${r[1]}</b></td><td>${r[2]}</td></tr>`;
        });
    }

    function changeScale() {
        currentScale = parseInt(document.getElementById('scaleSelect').value);
        saveData(); // Save change
        renderKey();
        calculateAll();
    }

    function renderTable() {
        const tbody = document.getElementById('tableBody');
        tbody.innerHTML = '';
        
        initialData.forEach((row, i) => {
            const tr = document.createElement('tr');
            // REMOVED min/max attributes to allow any score
            tr.innerHTML = `
                <td>${i+1}</td>
                <td><input type="text" value="${row.code}" onchange="updateData(${i}, 'code', this.value)"></td>
                <td><input type="number" value="${row.unit}" onchange="updateData(${i}, 'unit', this.value)"></td>
                <td><input type="number" value="${row.test}" oninput="updateData(${i}, 'test', this.value)"></td>
                <td><input type="number" value="${row.exam}" oninput="updateData(${i}, 'exam', this.value)"></td>
                <td>
                    <div style="font-weight:bold; color:var(--primary);" id="tot-${i}">0</div>
                    <div class="bar-container"><div class="bar-fill" id="bar-${i}"></div></div>
                </td>
                <td style="font-weight:bold;" id="grd-${i}">-</td>
                <td id="wgp-${i}">0</td>
                <td><button class="btn-delete" onclick="deleteRow(${i})" title="Delete Course"><i class="fas fa-trash-alt"></i></button></td>
            `;
            tbody.appendChild(tr);
        });
        calculateAll();
    }

    function addRow() {
        initialData.push({ code: "add", unit: 0, test: 0, exam: 0 });
        saveData(); // Save new row
        renderTable();
    }

    function deleteRow(index) {
        if(confirm("Are you sure you want to delete this course?")) {
            initialData.splice(index, 1);
            saveData();
            renderTable();
        }
    }

    function updateData(index, field, value) {
        if(field === 'code') initialData[index].code = value;
        else initialData[index][field] = Number(value);
        
        saveData(); // Save updates immediately
        calculateAll();
    }

    function calculateAll() {
        let totalUnits = 0, totalWGP = 0;
        let labels = [], scores = [], gradeDist = { A:0, B:0, C:0, D:0, E:0, F:0 };

        initialData.forEach((row, i) => {
            // REMOVED: if(row.test > 40) row.test = 40; 
            // REMOVED: if(row.exam > 60) row.exam = 60;
            
            const total = row.test + row.exam;
            const meta = getGrade(total);
            const wgp = row.unit * meta.p;

            if(document.getElementById(`tot-${i}`)) {
                document.getElementById(`tot-${i}`).innerText = total;
                // Bar fills based on % out of 100. If >100, just stays full.
                document.getElementById(`bar-${i}`).style.width = `${Math.min(total, 100)}%`;
                document.getElementById(`grd-${i}`).innerText = meta.g;
                document.getElementById(`grd-${i}`).style.color = (meta.g === 'F' || meta.g === 'E') ? 'red' : 'inherit';
                document.getElementById(`wgp-${i}`).innerText = wgp;
            }

            totalUnits += row.unit;
            totalWGP += wgp;
            if(gradeDist[meta.g] !== undefined) gradeDist[meta.g]++;
            labels.push(row.code);
            scores.push(total);
        });

        const currentGPA = totalUnits ? (totalWGP / totalUnits) : 0;
        
        saveData();

        // --- NEW FLEXIBLE CGPA LOGIC ---
        const prevCGPAInput = document.getElementById('prevCGPA').value;
        const prevUnitsInput = document.getElementById('prevUnits').value;

        const prevCGPA = prevCGPAInput !== "" ? parseFloat(prevCGPAInput) : 0;
        const prevUnits = prevUnitsInput !== "" ? parseFloat(prevUnitsInput) : 0;
        
        let overallCGPA = 0;

        if (prevCGPA > 0) {
            if (prevUnits > 0) {
                // Scenario 1: Standard Weighted CGPA (Most Accurate)
                overallCGPA = ((prevCGPA * prevUnits) + totalWGP) / (prevUnits + totalUnits);
            } else {
                // Scenario 2: Simple Aggregate
                if (currentGPA > 0) {
                    overallCGPA = (prevCGPA + currentGPA) / 2;
                } else {
                    overallCGPA = prevCGPA;
                }
            }
        } else {
            overallCGPA = currentGPA;
        }

        // Display
        document.getElementById('dispGPA').innerText = currentGPA.toFixed(2);
        document.getElementById('dispCGPA').innerText = overallCGPA.toFixed(2);
        document.getElementById('sumUnits').innerText = totalUnits;
        document.getElementById('sumWGP').innerText = totalWGP;
        document.getElementById('sumOverallCGPA').innerText = overallCGPA.toFixed(2);

        let honour = "";
        const val = parseFloat(overallCGPA);
        if(currentScale === 5) {
            if(val >= 4.50) honour = "First Class Honours";
            else if(val >= 3.50) honour = "Second Class Upper";
            else if(val >= 2.40) honour = "Second Class Lower";
            else if(val >= 1.50) honour = "Third Class";
            else honour = "Pass";
        } else {
            if(val >= 3.50) honour = "First Class Honours";
            else if(val >= 3.00) honour = "Second Class Upper";
            else if(val >= 2.50) honour = "Second Class Lower";
            else honour = "Pass";
        }
        document.getElementById('classHonours').innerText = honour;

        if (chartBest && chartDonut) {
            updateCharts(labels, scores, gradeDist);
        }
    }

    // --- CHART INITIALIZATION ---
    function initCharts() {
        const ctx1 = document.getElementById('chartBest').getContext('2d');
        chartBest = new Chart(ctx1, {
            type: 'bar',
            data: { labels: [], datasets: [{ label: 'Score', data: [], backgroundColor: '#8B5A2B', borderRadius: 4 }] },
            plugins: [ChartDataLabels],
            options: { 
                responsive: true, 
                maintainAspectRatio: false, 
                plugins: { 
                    legend: {display: false},
                    datalabels: { 
                        color: '#8B5A2B', anchor: 'end', align: 'top', 
                        font: { weight: 'bold' }, formatter: function(value) { return value; } 
                    }
                }, 
                scales: { 
                    y: { beginAtZero: true, max: 120, display: false },
                    x: { grid: { display: false } }
                } 
            }
        });

        const ctx2 = document.getElementById('chartDonut').getContext('2d');
        chartDonut = new Chart(ctx2, {
            type: 'doughnut',
            data: { 
                labels: ['A', 'B', 'C', 'D', 'E', 'F'], 
                datasets: [{ 
                    data: [0,0,0,0,0,0], 
                    backgroundColor: ['#8B5A2B', '#dcb368', '#e8d5b5', '#999', '#555','#c0392b'] 
                }] 
            },
            plugins: [ChartDataLabels],
            options: { 
                cutout: '60%', 
                responsive: true, 
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    datalabels: {
                        color: '#fff',
                        font: { weight: 'bold', size: 12 },
                        formatter: function(value, context) {
                            if (value > 0) {
                                return context.chart.data.labels[context.dataIndex] + ": " + value;
                            } else {
                                return "";
                            }
                        }
                    }
                }
            }
        });
    }

    function updateCharts(labels, scores, dist) {
        if (!chartBest || !chartDonut) return;

        let combined = labels.map((l, i) => ({l, s: scores[i]}));
        combined.sort((a,b) => b.s - a.s);
        let top = combined.filter(item => item.s >= 70);

        chartBest.data.labels = top.map(x => x.l);
        chartBest.data.datasets[0].data = top.map(x => x.s);
        chartBest.update();

        chartDonut.data.datasets[0].data = [dist.A, dist.B, dist.C, dist.D, dist.E, dist.F];
        chartDonut.update();
    }

    function openNav() { document.getElementById("mySidebar").style.width = "300px"; }
    function closeNav() { document.getElementById("mySidebar").style.width = "0"; }
    
    function resetDefaults() { 
        if(confirm("Are you sure? This will clear all your saved data.")) {
            localStorage.clear();
            location.reload(); 
        }
    }

    window.onload = function() {
        loadData(); 
        renderKey();
        initCharts();
        renderTable();
    };

</script>
</body>
</html>





